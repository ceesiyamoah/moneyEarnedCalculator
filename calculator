from datetime import datetime
import csv

# calculate the number of hours between start and end times


def timeDifference(start, end):
    return round((end - start).seconds / 3600, 2)


# Calculate amount earned (Rate=5)
def getAmountEarned(timeDifference):
    return round(timeDifference*5, 2)


# get start time, end time(with date) and timeDifference, total amount to the csv file
def addToFile(start, end, timeDifference, totalAmount):
    toAdd = [[start, end, timeDifference, timeDifference, totalAmount]]
    with open('calc.csv', 'a', newline='') as file:
        writer = csv.writer(file)
        writer.writerows(toAdd)


# start Date and Time
def getDateAndTimeInput(endOrStart):
    Date = input(f'Enter {endOrStart} date in YYYY-MM-DD: ')
    year, month, day = map(int, Date.split('-'))
    Time = input(f'Enter {endOrStart} time in HH:MM ')
    hour, minute = map(int, Time.split(':'))
    return datetime(year, month, day, hour, minute)


# append new rows to csv files
def addToFile(start, end, timeDifference, totalAmount):
    toAdd = [[start, end, timeDifference, totalAmount]]
    with open('calc.csv', 'a', newline='') as file:
        writer = csv.writer(file)
        writer.writerows(toAdd)

# print start, end, time worked and amount earned


def printStatsScreen(start, end, timeDifference, totalAmount):
    print('Start: ', start)
    print('End: ', end)
    print('Hours worked: ', timeDifference)
    print('Amount earned: ', totalAmount)


# error handlers for invalid input
class Error(Exception):
    pass


class InvalidError(Error):
    pass
